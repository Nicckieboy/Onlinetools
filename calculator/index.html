<!doctype html>
<html lang="en">
<head>
  <link rel="canonical" href="https://onlinetools-dyx.pages.dev/calculator/" />
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Online Calculator</title>

  <!-- SEO -->
  <meta name="description" content="Free online calculator. Supports basic arithmetic, percentage, keyboard input, and continuous calculations." />

  <style>
    :root {
      --bg:#0b1220;
      --panel:#111b2e;
      --key:#1a2a45;
      --key2:#243a61;
      --accent:#3b82f6;
      --text:#e5e7eb;
      --muted:#9ca3af;
    }
    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    }
    body {
      margin:0;
      min-height:100svh;
      display:grid;
      place-items:center;
      background: radial-gradient(1200px 600px at 30% 10%, #162445, var(--bg));
      color:var(--text);
    }
    .wrap { width:min(420px, 92vw); }
    .card {
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid rgba(255,255,255,.1);
      border-radius:18px;
      overflow:hidden;
      box-shadow: 0 20px 60px rgba(0,0,0,.35);
    }
    header {
      padding:14px 16px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      background: rgba(0,0,0,.12);
    }
    header .title { font-weight:700; letter-spacing:.02em; }
    header .hint { font-size:12px; color:var(--muted); }

    .display {
      padding:16px;
      background: rgba(0,0,0,.14);
    }
    .expression {
      min-height:20px;
      font-size:14px;
      color:var(--muted);
      word-break: break-all;
    }
    .value {
      margin-top:6px;
      font-size:38px;
      font-weight:700;
      text-align:right;
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap;
    }

    .keys {
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:10px;
      padding:14px;
      background: rgba(0,0,0,.06);
    }
    button {
      border:0;
      border-radius:14px;
      padding:14px 10px;
      font-size:18px;
      font-weight:650;
      color:var(--text);
      background: var(--key);
      cursor:pointer;
      transition: transform .04s ease, filter .15s ease;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.08);
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    button:active { transform: translateY(1px); filter: brightness(1.08); }
    .op { background: var(--key2); }
    .accent {
      background: linear-gradient(180deg, rgba(59,130,246,.95), rgba(59,130,246,.75));
    }
    .wide { grid-column: span 2; }

    footer {
      padding:10px 16px 14px;
      font-size:12px;
      color:var(--muted);
      text-align:center;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="application" aria-label="Online Calculator">
      <header>
        <div class="title">Online Calculator</div>
        <div class="hint">Keyboard supported</div>
      </header>

      <div class="display" aria-live="polite">
        <div class="expression" id="expr"></div>
        <div class="value" id="value">0</div>
      </div>

      <div class="keys">
        <button class="op" data-k="C">C</button>
        <button class="op" data-k="back">⌫</button>
        <button class="op" data-k="%">%</button>
        <button class="op" data-k="/">÷</button>

        <button data-k="7">7</button>
        <button data-k="8">8</button>
        <button data-k="9">9</button>
        <button class="op" data-k="*">×</button>

        <button data-k="4">4</button>
        <button data-k="5">5</button>
        <button data-k="6">6</button>
        <button class="op" data-k="-">−</button>

        <button data-k="1">1</button>
        <button data-k="2">2</button>
        <button data-k="3">3</button>
        <button class="op" data-k="+">+</button>

        <button class="wide" data-k="0">0</button>
        <button data-k=".">.</button>
        <button class="accent" data-k="=">=</button>
      </div>

      <footer>
        Example: <code>12.5*3-4</code> · Safe expression parser (no eval)
      </footer>
    </div>
  </div>

<script>
(() => {
  const exprEl = document.getElementById("expr");
  const valueEl = document.getElementById("value");

  let expr = "";
  let current = "0";
  let lastWasEqual = false;

  const isOp = c => ["+","-","*","/"].includes(c);

  function update() {
    exprEl.textContent = expr;
    valueEl.textContent = current;
  }

  function clearAll() {
    expr = "";
    current = "0";
    lastWasEqual = false;
    update();
  }

  function backspace() {
    if (lastWasEqual) return clearAll();
    if (current.length <= 1 || (current.length === 2 && current.startsWith("-"))) {
      current = "0";
    } else {
      current = current.slice(0, -1);
    }
    update();
  }

  function appendDigit(d) {
    if (lastWasEqual) {
      expr = "";
      current = "0";
      lastWasEqual = false;
    }
    if (d === "." && current.includes(".")) return;
    if (current === "0" && d !== ".") current = d;
    else current += d;
    update();
  }

  function appendOperator(op) {
    if (!expr) {
      expr = current + " " + op + " ";
      current = "0";
      update();
      return;
    }
    const trimmed = expr.trimEnd();
    if (isOp(trimmed.slice(-1))) {
      expr = trimmed.slice(0, -1) + op + " ";
    } else {
      expr += current + " " + op + " ";
      current = "0";
    }
    update();
  }

  function percent() {
    const x = Number(current);
    if (!Number.isFinite(x)) return;
    current = String(x / 100);
    update();
  }

  function evaluateExpression(s) {
    const tokens = s.match(/-?\d+(?:\.\d+)?|[+\-*/]/g);
    if (!tokens) return NaN;

    const output = [];
    const ops = [];
    const prec = {"+":1,"-":1,"*":2,"/":2};

    for (const t of tokens) {
      if (/^-?\d/.test(t)) output.push(Number(t));
      else {
        while (ops.length && prec[ops[ops.length-1]] >= prec[t]) {
          output.push(ops.pop());
        }
        ops.push(t);
      }
    }
    while (ops.length) output.push(ops.pop());

    const stack = [];
    for (const t of output) {
      if (typeof t === "number") stack.push(t);
      else {
        const b = stack.pop();
        const a = stack.pop();
        if (a === undefined || b === undefined) return NaN;
        if (t === "+") stack.push(a + b);
        if (t === "-") stack.push(a - b);
        if (t === "*") stack.push(a * b);
        if (t === "/") stack.push(a / b);
      }
    }
    return stack.length === 1 ? stack[0] : NaN;
  }

  function equals() {
    if (!expr) return;
    const full = expr.trim() + " " + current;
    const result = evaluateExpression(full);
    expr = full + " =";
    if (!Number.isFinite(result)) current = "Error";
    else {
      current = String(Math.round((result + Number.EPSILON) * 1e12) / 1e12);
    }
    lastWasEqual = true;
    update();
  }

  function handle(k) {
    if (k === "C") return clearAll();
    if (k === "back") return backspace();
    if (k === "%") return percent();
    if (k === "=") return equals();
    if (isOp(k)) return appendOperator(k);
    if (k === "." || /^\d$/.test(k)) return appendDigit(k);
  }

  document.querySelectorAll("button[data-k]").forEach(btn => {
    btn.addEventListener("click", () => handle(btn.dataset.k));
  });

  window.addEventListener("keydown", e => {
    if (e.key === "Enter") return handle("=");
    if (e.key === "Backspace") return handle("back");
    if (e.key === "Escape") return handle("C");
    if (["+","-","*","/","."].includes(e.key)) return handle(e.key);
    if (/^\d$/.test(e.key)) return handle(e.key);
  });

  update();
})();
</script>
</body>
</html>
